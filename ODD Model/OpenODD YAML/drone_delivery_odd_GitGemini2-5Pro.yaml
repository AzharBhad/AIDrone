asam_openodd:
  version: "1.0.0"

metadata:
  name: "Autonomous_Drone_Delivery_System_ODD"
  author: "AI_Copilot"
  date: "2025-10-29"
  description: "Operational Design Domain for an AI-powered autonomous drone delivery system operating in a mixed urban-suburban environment."

#---------------------------------------------------------------------------------
# SCENE: Describes the static environment and infrastructure.
# For drones, this is primarily about airspace and ground features.
#---------------------------------------------------------------------------------
scene:
  - id: "urban_suburban_geography"
    description: "Defines the geographical and airspace operational area."
    attributes:
      - name: "geography"
        type: "area"
        allowed:
          - description: "Designated operational zones within a 5-mile radius of the central distribution hub."
            # Example coordinates for a geofenced area.
            polygon: "[[lat1, lon1], [lat2, lon2], [lat3, lon3], [lat4, lon4]]"

      - name: "airspace"
        type: "classification"
        allowed:
          - "Class G" # Uncontrolled airspace, typical for low-altitude operations.
        restrictions:
          - description: "Must not enter controlled airspace (Class B, C, D) without specific authorization."
          - description: "Adherence to all defined No-Fly Zones (NFZs), including airports, stadiums, and sensitive government sites."

      - name: "altitude"
        type: "range"
        unit: "meters_agl" # Above Ground Level
        allowed:
          - min: 20
            max: 120 # Below 400 ft, a common ceiling for sUAS operations.

      - name: "routing"
        type: "corridors"
        allowed:
          - "Pre-defined, dynamic flight corridors optimized to avoid dense populations and known hazards."
        restrictions:
          - "Deviation from corridors is only permitted for collision avoidance or emergency landing maneuvers."

      - name: "takeoff_landing_zones"
        type: "surface_type"
        allowed:
          - "Designated concrete/asphalt pads at distribution hubs."
          - "Cleared residential lawns (grass, patio) with a minimum clear radius of 3 meters."
        restrictions:
          - "Surfaces must be stable and relatively flat."
          - "No landing on public roads, water, or unstable surfaces."

#---------------------------------------------------------------------------------
# ENVIRONMENT: Describes the environmental and weather conditions.
#---------------------------------------------------------------------------------
environment:
  - id: "weather_and_lighting_conditions"
    description: "Permissible weather and ambient lighting conditions for safe flight."
    attributes:
      - name: "wind"
        type: "wind_speed"
        unit: "m/s"
        allowed:
          - max_continuous: 10 # Approx 22 mph
            max_gust: 13      # Approx 29 mph

      - name: "precipitation"
        type: "precipitation_type"
        allowed:
          - "none"
          - "light_rain"
        restrictions:
          - "No operation in heavy rain, snow, hail, or freezing rain (icing conditions)."

      - name: "visibility"
        type: "distance"
        unit: "km"
        allowed:
          - min: 5 # Standard Visual Flight Rules (VFR) minimums.
        restrictions:
          - "No operation in fog, heavy smog, or smoke."

      - name: "ambient_lighting"
        type: "lighting_condition"
        allowed:
          - "daylight"
          - "civil_twilight" # Dawn and dusk.
          - "night"
        restrictions:
          - "Night operations require the drone to be equipped with appropriate navigation and anti-collision lighting."

#---------------------------------------------------------------------------------
# DYNAMIC_OBJECTS: Describes other actors and objects in the environment.
#---------------------------------------------------------------------------------
dynamic_objects:
  - id: "aerial_and_ground_actors"
    description: "Defines interactions with other dynamic objects."
    attributes:
      - name: "aerial_traffic"
        type: "object_class"
        detection_and_response:
          - class: "manned_aircraft" # e.g., helicopters, small planes
            response: "Maintain well-clear separation, yield right-of-way, land if necessary."
          - class: "cooperative_uas" # Other drones broadcasting their position (e.g., via Remote ID)
            response: "Deconflict flight paths according to UTM (UAS Traffic Management) protocols."
          - class: "non_cooperative_uas" # Drones not broadcasting position
            response: "Detect and avoid based on sensor data."
          - class: "birds"
            response: "Detect and avoid, especially flocks. Avoid known nesting areas."

      - name: "ground_objects_at_landing"
        type: "object_class"
        detection_and_response:
          - class: "humans"
            response: "Abort landing if a person enters the landing zone. Maintain safe distance."
          - class: "animals" # e.g., pets
            response: "Abort landing if an animal enters the landing zone."
          - class: "vehicles"
            response: "Do not land near moving vehicles. Ensure landing path is clear."

#---------------------------------------------------------------------------------
# EGO_BEHAVIOR: Describes the state and capabilities of the drone itself.
#---------------------------------------------------------------------------------
ego_behavior:
  - id: "drone_system_state_and_capabilities"
    description: "Defines the required state and behavior of the autonomous drone."
    attributes:
      - name: "system_status"
        type: "state"
        required:
          - "All systems nominal (GNSS lock, healthy sensors, stable communication link)."
          - "Flight-ready battery level (e.g., > 90% at takeoff)."

      - name: "communication_link"
        type: "link_status"
        required:
          - "Continuous and stable C2 (Command and Control) link."
          - "Continuous and stable UTM data link."
        contingencies:
          - "Loss of C2 link triggers return-to-home (RTH) or landing at a pre-defined safe location."

      - name: "gnss_availability"
        type: "signal_quality"
        required:
          - "High-quality GNSS signal with a minimum of 8 satellites."
        contingencies:
          - "In GNSS-denied environments (e.g., 'urban canyons'), the system must rely on visual-inertial odometry (VIO) for navigation for a limited duration."

      - name: "contingencies"
        type: "emergency_maneuvers"
        available_maneuvers:
          - "Return-to-Home (RTH)"
          - "Land at nearest pre-approved alternate landing site."
          - "Emergency hover-and-alert."
          - "Collision avoidance maneuver."